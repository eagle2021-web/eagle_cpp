### gettimeofday
gettimeofday() 是一个在 Unix-like 系统（如 Linux）上获取当前时间的高分辨率版本的函数。这个函数将当前时间（以秒和微秒为单位）和一天中的当前时间（以小时，分钟，秒和微秒为单位）放在一个 struct timeval 类型的对象中。

gettimeofday(&tv, NULL) 这个调用会获取当前时间，并将其存储在 tv 变量中。第二个参数 NULL 是用于填充 tz 结构的，但在这个上下文中，我们不关心这个信息，所以它被设置为 NULL。

如果 gettimeofday() 函数成功执行，它将返回 0。如果发生错误，它将返回 -1，并将全局变量 errno 设置以指示发生的特定错误。

因此，if (gettimeofday(&tv, NULL) != 0) 这个条件检查 gettimeofday() 是否成功执行。如果返回值不是0，那么这个条件就为真（即，发生了错误）。在这种情况下，您可能需要检查 errno 的值来确定错误的具体原因。
